<% @title = "Edit event" %>

<div class="container">    
  <div id="loginbox" style="margin-top:20px; margin-right:20%; margin-left: 20%" class="mainbox col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2">                    
    <div class="panel panel-info">

      <div class="panel-heading">
        <div class="panel-title">Update event</div>
      </div>

      <div style="padding-top:30px" class="panel-body">

      <%= form_for(@event) do |f| %>

        <%= render 'shared/error_messages', object: f.object %>

        <%= f.label :tag, "Listing" %>
        <%= f.text_field :tag %>

        <%= f.label :start_date, "Date" %>
        <%= f.text_field :start_date, id: "datepicker", :value => @event.start_date.strftime('%Y-%m-%d') %>

        <%= f.label :start_time, "Start time" %>
        <%= f.datetime_field :start_time, id: "start_time", :value => @event.start_time.strftime('%I: %M %p') %>

        <%= f.label :end_time, "End time" %>
        <%= f.datetime_field :end_time, id: "end_time", :value => @event.end_time.strftime('%I: %M %p') %>

        <%= f.label :content, "Description" %>
        <%= f.text_area :content %>

        <%= f.label :location, "Location" %>
        <%= f.text_field :location %>

        </br>
        </br>
        <%= f.submit "Save changes", class: "btn btn-large btn-block btn-primary" %>

      <% end %> 
    </div>
  </div>
</div>

<script>

  $('#datepicker').datepicker({
    autoclose: true,
    format: 'yyyy-mm-dd',
    startDate: '0'
  });

  $('#start_time').timepicker({
    template: false,
    showInputs: false,
    minuteStep: 1
  });

  $('#end_time').timepicker({
    template: false,
    showInputs: false,
    minuteStep: 1
  });

</script>
